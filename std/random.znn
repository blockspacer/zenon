
embed {
  #include <cstdlib>
  #include <ctime>
}

import "std/range.znn";

export void init_random() {
  embed {
    srand(time(0));
  }
}

export int get_random(int max) {
  embed {
    return rand() % max;
  }
}

export struct range;

export int get_random(range r) {
  return r.start + get_random(r.finish - r.start);
}

export template <T> requires is_enum<T>
T get_random() {
  const value = get_random(enum_size(T));
  embed {
    return T(value);
  }
}
